(function(f){var g,j,h,k=1,l=this;f.postMessage=function(b,a,d){if(a&&(b="string"===typeof b?b:f.param(b),d=d||parent,a))for(var e=0,b=b.match(/.{1,1000}/g),c=0,i;i=b[c++];){var g=setTimeout;i=i+"&;;pm_part="+c+","+b.length;d.location=a.replace(/#.*$/,"")+"#"+ +new Date+k++ +"&"+i;g(void 0,e);e+=200}};f.receiveMessage=function(b,a,d,e){e=a&&f.isWindow(a)?a:d&&f.isWindow(d)?d:e&&f.isWindow(e)?e:l;g&&clearInterval(g);g=null;b&&(g=setInterval(function(){var c=e.document.location.hash,a=/^#?\d+&/;c!==
j&&a.test(c)&&(j=c,c=c.match(/(.*)&;;pm_part=(\d+),(\d+)/),h+=c[1].replace(a,""),c[2]===c[3]&&(b({data:h}),h=""))},"number"===typeof a?a:"number"===typeof d?d:100))}})(jQuery);
